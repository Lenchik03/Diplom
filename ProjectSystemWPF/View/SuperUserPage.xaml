<Page x:Class="ProjectSystemWPF.View.SuperUserPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:ProjectSystemWPF.View"
      xmlns:m="clr-namespace:ProjectSystemWPF.Model"
      mc:Ignorable="d" 
      d:DesignHeight="750" d:DesignWidth="800"
      Title=""
            TextElement.Foreground="{DynamicResource MaterialDesignBody}"
TextElement.FontWeight="Regular"
TextElement.FontSize="13"
TextOptions.TextFormattingMode="Ideal"
TextOptions.TextRenderingMode="Auto"
Background="{DynamicResource MaterialDesignPaper}"
FontFamily="{DynamicResource MaterialDesignFont}">
    <Page.Resources>
        <DataTemplate DataType="{x:Type m:User}">
            <StackPanel Orientation="Horizontal" >
                <TextBlock Text="{Binding FirstName}" Margin="0,0,5,0"/>
                <TextBlock Text="{Binding LastName}" Margin="0,0,5,0"/>
                <TextBlock Text="{Binding Patronymic}" Margin="0,0,5,0"/>
                <TextBlock Text="{Binding Phone}"/>
            </StackPanel>
        </DataTemplate>
    </Page.Resources>
    <Grid Background="#FFFDC401">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <ScrollViewer Background="#FFFDC401" BorderThickness="1" BorderBrush="Black">
            <StackPanel x:Name="stack1" Margin="10" Background="LightYellow">


            </StackPanel>
        </ScrollViewer>
        <StackPanel Grid.Column="1">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <StackPanel Background="#FFFDC401">
                    <StackPanel Margin="10,10,10,0" IsEnabled="{Binding CanEdit}" Background="LightYellow">

                        <Grid Margin="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="45*"/>
                                <ColumnDefinition Width="30*"/>
                            </Grid.ColumnDefinitions>
                            <Label Content="Сотрудник" HorizontalAlignment="Center" FontSize="15" Margin="152,0,0,0" Width="83"/>
                            <Button Content="✚" HorizontalAlignment="Right" Height="22" Width="43" Grid.Column="1" Command="{Binding NewEmployee}" Margin="80,2,0,2"/>
                        </Grid>



                        <Label Content="Имя"/>
                        <TextBox Text="{Binding Employee.FirstName}" />
                        <Label Content="Фамилия"/>
                        <TextBox Text="{Binding Employee.LastName}" />
                        <Label Content="Отчество"/>
                        <TextBox Text="{Binding Employee.Patronymic}" />
                        <Label Content="Дата рождения"/>
                        <TextBox Text="{Binding Employee.Birthday, StringFormat=dd.MM.yyyy}" />
                        <Label Content="Эл.почта"/>
                        <TextBox Text="{Binding Employee.Email}" />
                        <Label Content="Номер телефона"/>
                        <TextBox Text="{Binding Employee.Phone}" />
                        <Label Content="Отдел"/>
                        
                        <Label Content="Должность"/>
                        <TextBox Text="{Binding Employee.Post}"/>
                        <Button Content="Сохранить" Command="{Binding SaveUser}" Visibility="{Binding Hidden}" Height="25"  Width="110" Margin="7"/>
                    </StackPanel>
                    <Button Content="✍︎" Command="{Binding CanEditClick}" BorderBrush="Black" Visibility="{Binding Hidden}" Margin="10,0,10,0"/>
                </StackPanel>
                <StackPanel Grid.Row="1">
                    <StackPanel IsEnabled="{Binding CanEditDep}" Background="LightYellow"  Margin="10,10,10,0">
                        <Grid Margin="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60*"/>
                                <ColumnDefinition Width="49*"/>
                            </Grid.ColumnDefinitions>
                            <Label Content="Отдел" HorizontalAlignment="Right" FontSize="15" Width="50"/>
                            <Button Content="✚" HorizontalAlignment="Right" VerticalAlignment="Bottom" Height="22" Width="43" Grid.Column="1" Command="{Binding NewDep}"/>
                        </Grid>

                        <Label Content="Название отдела"/>
                        <TextBox Text="{Binding Department.Title}" />
                        <Label Content="Начальник отдела"/>
                        <ComboBox ItemsSource="{Binding Directors}" SelectedItem="{Binding DepDirector}"/>
                        <Button Content="Сохранить" Command="{Binding SaveDep}" Visibility="{Binding Hidden}" Height="25"  Width="110" Margin="7"/>
                    </StackPanel>
                    <Button Content="✍︎" Command="{Binding CanEditDepClick}" BorderBrush="Black" Visibility="{Binding Hidden}" Margin="10,0,10,0"/>
                </StackPanel>


            </Grid>


        </StackPanel>
    </Grid>
</Page>
